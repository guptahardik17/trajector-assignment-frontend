import{r as a,j as c,F as d,z as x,e as t,T as f,G as u,B as h,C as m,h as g,k as b,l,D as v}from"./index.99094685.js";import{V as y,w as I}from"./VideoItemWithHover.e2be79fb.js";function E(e,r){const[n,i]=a.exports.useState(null);return a.exports.useEffect(()=>{const s=new IntersectionObserver(([o])=>{i(o)},r!=null?r:{root:null,rootMargin:"0px",threshold:1});return e.current&&s.observe(e.current),()=>{e.current&&s.unobserve(e.current)}},[]),n}function M({genre:e,data:r,handleNext:n}){const i=a.exports.useRef(null),s=E(i);return a.exports.useEffect(()=>{s&&s.intersectionRatio===1&&r.page<r.total_pages&&n(r.page+1)},[s]),c(d,{children:[c(x,{maxWidth:!1,sx:{px:{xs:"30px",sm:"60px"},pb:4,pt:"150px",bgcolor:"inherit"},children:[t(f,{variant:"h5",sx:{color:"text.primary",mb:2},children:`${e.name} Movies`}),t(u,{container:!0,spacing:2,children:r.results.filter(o=>!!o.backdrop_path).map((o,p)=>t(u,{item:!0,xs:6,sm:3,md:2,sx:{zIndex:1},children:t(y,{video:o})},`${o.id}_${p}`))})]}),t(h,{sx:{display:"hidden"},ref:i})]})}function G({genre:e,mediaType:r}){const n=I(M,r,e);return t(n,{})}async function C({params:e}){let r=m.find(n=>n.apiString===e.genreId);if(!r){const n=await g.dispatch(b.getGenres.initiate(l.Movie)).unwrap();r=n==null?void 0:n.find(i=>i.id.toString()===e.genreId)}return r}function S(){const e=v();return e?t(G,{mediaType:l.Movie,genre:e}):null}S.displayName="GenreExplore";export{S as Component,C as loader};
